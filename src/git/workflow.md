# Git操作手順

## 初回リリースまで

- `main`ブランチは（まだ）利用しない。
- トピックブランチ他、ブランチの作成に制限は設けない（ただしプッシュし忘れ・マージし忘れなど注意）。
- コミットコメントは自由。可能であれば適切なコメントを入れる。空でも良い（リリース後はルールが変わる）。
- スピード重視で雑にコミットをしても構わない。

## 初回リリース時

1.  `dev`から`main`ブランチを切る。
2.  `yarn release` コマンドを実行し、ファイルをリリース可能状態にする。
3.  `main`ブランチをプッシュする。
4.  リリース作業者は`main`ブランチをプルし、その状態のファイル郡を本番データとして扱い以下のいずれかを行う。
    - 本番サーバーへアップロード。
    - 本番サーバーへデプロイ。
    - `htdocs`フォルダをZipして納品。
5.  リリースチェック・検品などが終わったら `releaseYYYYMMDD` の形式でタグを付けプッシュする。

::: danger 重要

リリース作業をパートナー企業が行う場合であっても、_1._ _2._ _3._ _5._ は **必ず社内の人間が責任をもって行うこと**。

:::
